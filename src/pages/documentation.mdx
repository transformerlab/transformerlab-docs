import Button from "@site/src/components/Button";
import { useHistory } from "@docusaurus/router";
import React from "react";

export default function DocumentationPage() {
  const history = useHistory();
  const localVideoRef = React.useRef(null);
  const cloudVideoRef = React.useRef(null);

  const handleMouseEnter = (ref) => {
    if (ref.current) {
      ref.current.play();
    }
  };
  const handleMouseLeave = (ref) => {
    if (ref.current) {
      ref.current.pause();
      ref.current.currentTime = 1;
    }
  };

  return (
    <div
      style={{
        display: "flex",
        justifyContent: "space-between",
        gap: "20px",
        flexWrap: "wrap",
      }}
      className="documentation-flex-container"
    >
      <div
        style={{
          border: "1px solid var(--ifm-color-primary-darkest)",
          borderRadius: "10px",
          padding: "20px",
          flex: 1,
          minWidth: "300px",
          cursor: "pointer",
          display: "flex",
          flexDirection: "column"
        }}
        onClick={() => history.push("/local")}
        onMouseEnter={() => handleMouseEnter(localVideoRef)}
        onMouseLeave={() => handleMouseLeave(localVideoRef)}
      >
        <div style={{ display: "flex", justifyContent: "center" }}>
          <video
            ref={localVideoRef}
            src={require("./img/singlenode.webm").default}
            width={300}
            muted
            playsInline
            loop
          />
        </div>
        <h1 className="bitcount-grid-double-heading"><span style={{ color: "var(--ifm-color-primary)" }}>Transformer Lab Local</span></h1>
        <p>
          Train, test, and eval models (LLMs, Distillation, Audio) on a single
          node.
        </p>
        <div style={{ flex: 1 }} />
        <span style={{ textDecoration: "none", marginTop: "20px" }}>
          <Button>Learn More</Button>
        </span>
      </div>
      <div
        style={{
          border: "1px solid var(--ifm-color-primary-darkest)",
          borderRadius: "10px",
          padding: "20px",
          flex: 1,
          minWidth: "300px",
          cursor: "pointer",
          display: "flex",
          flexDirection: "column"
        }}
        onClick={() => history.push("/cloud")}
        onMouseEnter={() => handleMouseEnter(cloudVideoRef)}
        onMouseLeave={() => handleMouseLeave(cloudVideoRef)}
      >
        <div style={{ display: "flex", justifyContent: "center" }}>
          <video
            ref={cloudVideoRef}
            src={require("./img/multinode.webm").default}
            width={300}
            muted
            playsInline
            loop
          />
        </div>
        <h1 className="bitcount-grid-double-heading">
          <span style={{ color: "var(--ifm-color-primary)" }}>Transformer Lab Cloud</span> with GPU Orchestration
        </h1>
        <p>Run ML Tasks on any GPU Cluster, across 1 to 1000 nodes.</p>
        <div style={{ flex: 1 }} />
        <span style={{ textDecoration: "none", marginTop: "20px" }}>
          <Button>Learn More</Button>
        </span>
      </div>
    </div>
  );
}
